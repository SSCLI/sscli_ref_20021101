<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../refdoc.css">
<title>Type: System.ICustomFormatter</title>
</head>
<body><a name="TopOfPage"></a><h2>System.ICustomFormatter Interface</h2><b>Assembly: </b>Mscorlib.dll<br><b>Namespace: </b>System<br><dl>
<dt><b>Summary</b></dt>
<dd> Defines a method that supports custom, user-defined formatting of the value of an object.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
        public interface ICustomFormatter
      </b></code></td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> When this interface is implemented by a reference or value type, the  <a href="#Format(System.String,System.Object,System.IFormatProvider)">ICustomFormatter.Format</a> method returns a custom-formatted string representation of an object's value.<p> Use this interface, and the  <a href="../../System/types/IFormatProvider.html">IFormatProvider</a> interface, to supersede the support supplied in .NET Framework formatting methods that honor an  <a href="../../System/types/IFormatProvider.html">IFormatProvider</a> parameter. For example, use this interface to provide custom formatting of the value of an object by the  <a href="../../System/types/String.html#Format(System.String,System.Object)">String.Format</a> or  <a href="../../System/types/Int32.html#ToString">Int32.ToString</a> methods.</p>
<p> Derive a class that implements the  <a href="../../System/types/IFormatProvider.html">IFormatProvider</a> interface and its  <a href="../../System/types/IFormatProvider.html#GetFormat(System.Type)">IFormatProvider.GetFormat</a> method. Specify that derived class for the  <a href="../../System/types/IFormatProvider.html">IFormatProvider</a> parameter of the method you want to supersede. Your implementation of the  <a href="../../System/types/IFormatProvider.html#GetFormat(System.Type)">IFormatProvider.GetFormat</a> method should return a format object that implements the  <a href="../../System/types/ICustomFormatter.html">ICustomFormatter</a> interface. The .NET Framework method will then use your custom formatting instead of its own.</p>
</dd>
</dl><b>See also: </b><dl>
<dd> <a href="../../System/System.html">System Namespace</a> |  <a href="../../System/types/IFormatProvider.html">IFormatProvider</a></dd>
</dl>
<h3>System.ICustomFormatter Member List: </h3>
<dl>
<dt><b>Public Methods</b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<td width="35%"><a href="#Format(System.String,System.Object,System.IFormatProvider)">Format</a></td>
<td width="55%"> Converts the value of a specified object to an equivalent string representation using specified format and culture-specific formatting information.</td>
</tr>
</table>
</dd>
</dl>
<hr>
<h3>System.ICustomFormatter Member Details</h3><b>Method: <i><a name="FormatTopic1"></a><a name="Format(System.String,System.Object,System.IFormatProvider)">Format</a></i></b><b><i>(<br>   <font color="#008080"><a href="../../System/types/String.html">string</a> <i>format</i>,</font><br>   <font color="#008080"><a href="../../System/types/Object.html">object</a> <i>arg</i>,</font><br>   <font color="#008080"><a href="../../System/types/IFormatProvider.html">IFormatProvider</a> <i>formatProvider</i></font><br>)</i></b><dl>
<dt><b>Summary</b></dt>
<dd> Converts the value of a specified object to an equivalent string representation using specified format and culture-specific formatting information.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            string Format(string format, object arg, <a href="../../System/types/String.html">I</a> Format(<br>   <font color="#008080"><a href="../../System/types/String.html">string</a> <i>format</i>,</font><br>   <font color="#008080"><a href="../../System/types/Object.html">object</a> <i>arg</i>,</font><br>   <font color="#008080"><a href="../../System/types/IFormatProvider.html">IFormatProvider</a> <i>formatProvider</i></font><br>);</b></code></td>
</tr>
</table>
</dd>
</dl><b>Parameters:</b><br><dl>
<dd>
<p><i>format</i><br><dl>
<dd>
<param> A format string containing formatting specifications.
</dd>
</dl>
</p>
</dd>
<dd>
<p><i>arg</i><br><dl>
<dd>
<param> An object to format.
</dd>
</dl>
</p>
</dd>
<dd>
<p><i>formatProvider</i><br><dl>
<dd>
<param> An  <a href="../../System/types/IFormatProvider.html">IFormatProvider</a> object that supplies format information about the current instance.
</dd>
</dl>
</p>
</dd>
</dl>
<dl>
<dt><b>Return Value: </b></dt>
<dd> The string representation of the value of <i>arg</i>, formatted as specified by <i>format</i> and <i>formatProvider</i>.</dd>
</dl>
<dl>
<dt><b>Exceptions </b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<th width="30%">Exception Type</th>
<th width="60%">Condition</th>
</tr>
<tr valign="top">
<td> <a href="../../System/types/ArgumentNullException.html">ArgumentNullException</a></td>
<td><i>arg</i> is <b>null</b>.</td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> The <i>format</i> parameter contains a user-defined formatting specification. For more information about standard .NET Framework formatting specifications, see  the conceptual topic at <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpguide/html/cpConFormattingOverview.asp">MSDN: formattingoverview</a>.<p> Throw an exception only if <i>arg</i> is <b>null</b>. If <i>format</i> is <b>null</b>, use the default format specification of your choice. If <i>formatProvider</i> is <b>null</b>, ignore that parameter.</p>
<p> Your implementation of the  <a href="#Format(System.String,System.Object,System.IFormatProvider)">ICustomFormatter.Format</a> method must include the following functionality so the .NET Framework can provide formatting you do not support. If your format method does not support a format, determine whether the object being formatted implements the  <a href="../../System/types/IFormattable.html">IFormattable</a> interface. If it does, invoke the  <a href="../../System/types/IFormattable.html#ToString(System.String,System.IFormatProvider)">IFormattable.ToString</a> method of that interface. Otherwise, invoke the default  <a href="../../System/types/Object.html#ToString">Object.ToString</a> method of the underlying object.</p>
<p> Here is a fragment of C# code that demonstrates this pattern for object <i>arg</i>, format <i>format</i>, format provider <i>formatProvider</i>, and return value, s.</p>
<p><code>
                if (arg is IFormattable) s = ((IFormattable)arg).ToString(format, formatProvider);
              </code></p>
<p><code>
                else if (arg != null) s = arg.ToString();
              </code></p>
</dd>
</dl><b>See also: 
			</b><br> <a href="../../System/types/IFormattable.html">IFormattable</a> |  <a href="../../System/types/Object.html">Object</a><h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite">
<h3 align="center"><a href="#TopOfPage">
					Top of page
				</a></h3><i><a href="../../documentation_license.txt">
				  Copyright (c) 2002 Microsoft Corporation.  All rights reserved.
				</a></i></body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../refdoc.css">
<title>Type: System.Xml.Serialization.XmlAnyElementAttribute</title>
</head>
<body><a name="TopOfPage"></a><h2>System.Xml.Serialization.XmlAnyElementAttribute Class</h2><b>Assembly: </b>System.Xml.dll<br><b>Namespace: </b>System.Xml.Serialization<br><dl>
<dt><b>Summary</b></dt>
<dd> Specifies that the member (a field that returns an array of  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects) can contain objects that represent any XML element that has no corresponding member in the object being serialized or deserialized.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code>[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter | AttributeTargets.ReturnValue)]<br><b>public class XmlAnyElementAttribute : Attribute</b></code></td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> Use the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to contain arbitrary data (as XML elements) that might be sent as part of an XML document, such as, metadata sent as part of the document.<p> Apply the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to a field that returns an array of  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects. Such a field can be used in two ways, depending on whether an object is being serialized or deserialized. When serialized, the object will be generated as XML elements or nodes, even though they have no corresponding member (or members) in the object being serialized. If you specify a  <a href="#Name">XmlAnyElementAttribute.Name</a> property value when applying the attribute, all  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects inserted into the array must have the same element name and default namespace, or an exception will be thrown. If you set the  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property value, you must set the  <a href="#Name">XmlAnyElementAttribute.Name</a> property as well, and the  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects must also have the same name and namespace values. If no  <a href="#Name">XmlAnyElementAttribute.Name</a> value is specified, the  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects can have any element name.</p>
<p> When you call the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html#Deserialize(System.IO.Stream)">XmlSerializer.Deserialize</a> method of the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html">XmlSerializer</a> class, all attributes that do not have a corresponding member in the object being deserialized will be collected in the array. After deserialization, iterate through the collection of  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> items to process the data. If you specify a  <a href="#Name">XmlAnyElementAttribute.Name</a> value, the array will contain only XML elements with that name. If you do not specify a  <a href="#Name">XmlAnyElementAttribute.Name</a> value, the array will contain all elements that have no corresponding member in the class. If a class contains more than one field to which the attribute is applied, you should use the  <a href="#Name">XmlAnyElementAttribute.Name</a>, or  <a href="#Name">XmlAnyElementAttribute.Name</a> and  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> properties to differentiate between the contents of the arrays. If such a class (with multiple fields) also contains one field that has no differentiating property values set (in other words,  <a href="#Name">XmlAnyElementAttribute.Name</a> and  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a>), during deserialization, this array will contain any unknown XML elements that are not already contained in the other arrays. If a class contains more than one field that doesn't have a differentiating  <a href="#Name">XmlAnyElementAttribute.Name</a>, or  <a href="#Name">XmlAnyElementAttribute.Name</a> and  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> value set, the behavior during deserialization is unspecified.</p>
<p> You can also apply the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to a field that returns a single  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> object. If you do so, you will have to use the properties and methods of the  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> class to recursively iterate through the unknown elements.</p>
<p> You can apply multiple instances of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to a class member, but each instance must have a distinct  <a href="#Name">XmlAnyElementAttribute.Name</a> property value. Or, if the same  <a href="#Name">XmlAnyElementAttribute.Name</a> property is set for each instance, a distinct  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property value must be set for each instance.</p>
<p> The  <a href="../../System.Xml.Serialization/types/XmlSerializer.html#UnknownNode">XmlSerializer.UnknownNode</a> and  <a href="../../System.Xml.Serialization/types/XmlSerializer.html#UnknownAttribute">XmlSerializer.UnknownAttribute</a> events of the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html">XmlSerializer</a> will not occur if you apply the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to a member of a class.</p><br><br><b>Note </b> In your code, you can use the word <b>XmlAnyElement</b> instead of the longer  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a>.<p> For more information about using attributes, see  the conceptual topic at <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpguide/html/cpconExtendingMetadataUsingAttributes.asp">MSDN: extendingmetadatausingattributes</a>.</p>
</dd>
</dl><b>Example</b><dl>
<dd> The following example applies the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to a field named <b>AllElements</b> that returns an array of  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> objects.<pre>
public class XClass
{
   /* Apply the XmlAnyElementAttribute to a field returning an array
   of XmlElement objects. */
   [XmlAnyElement]
   public XmlElement[] AllElements;
}

public class Test
{
   public static void Main()
   {
      Test t = new Test();
      t.DeserializeObject("XFile.xml");
   }

   private void DeserializeObject(string filename)
   {
      // Create an XmlSerializer.
      XmlSerializer mySerializer = new XmlSerializer(typeof(XClass));

      // To read a file, a FileStream is needed.
      FileStream fs = new FileStream(filename, FileMode.Open);

      // Deserialize the class.
      XClass x = (XClass) mySerializer.Deserialize(fs);

      // Read the element names and values.
      foreach(XmlElement xel in x.AllElements)
         Console.WriteLine(xel.LocalName + ": " + xel.Value);
   }
}

    </pre>
</dd>
</dl><b>See also: </b><dl>
<dd> <a href="../../System.Xml.Serialization/System.Xml.Serialization.html">System.Xml.Serialization Namespace</a> |  <a href="../../System.Xml.Serialization/types/XmlAnyAttributeAttribute.html">XmlAnyAttributeAttribute</a> | <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpguide/html/cpconIntroducingXMLSerialization.asp">MSDN: introducingxmlserialization</a></dd>
</dl>
<h3>System.Xml.Serialization.XmlAnyElementAttribute Member List: </h3>
<dl>
<dt><b>Public Constructors</b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<td width="35%"><a href="#ctor1">ctor #1</a></td>
<td width="55%"><b>Overloaded:</b><br><code>.ctor()<br><br></code>Default constructor. This constructor is called by derived class constructors to initialize state in this type.<br> Initializes a new instance of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> class.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#ctor2">ctor #2</a></td>
<td width="55%"><b>Overloaded:</b><br><code>.ctor(string name)<br><br></code> Initializes a new instance of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> class; specifies the XML element name generated in the XML document.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#ctor3">ctor #3</a></td>
<td width="55%"><b>Overloaded:</b><br><code>.ctor(string name, string ns)<br><br></code> Initializes a new instance of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> class; specifies the XML element name generated in the XML document and its XML namespace.</td>
</tr>
</table>
</dd>
</dl>
<dl>
<dt><b>Public Properties</b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<td width="35%"><a href="#Name">Name</a></td>
<td width="55%"><b>Read-write</b><br><br> Gets or sets the XML element name.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#Namespace">Namespace</a></td>
<td width="55%"><b>Read-write</b><br><br> Gets or sets the XML namespace generated in the XML document.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#TypeId">TypeId</a><br>(inherited from <b>System.Attribute)</b></td>
<td width="55%"><b>Read-only</b><br><br><b><font color="#800080">See base class member description: <a href="../../System/types/Attribute.html#TypeId">System.Attribute.TypeId</a></font></b><br><br><br> When implemented in a derived class, gets a unique identifier for this <b>Attribute</b>.</td>
</tr>
</table>
</dd>
</dl>
<dl>
<dt><b>Public Methods</b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<td width="35%"><a href="#Equals(System.Object)">Equals</a><br>(inherited from <b>System.Object)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Object.html#Equals(System.Object)">System.Object.Equals</a></font></b><br><br>Derived from System.Object, the primary base class for all objects.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#GetHashCode">GetHashCode</a><br>(inherited from <b>System.Attribute)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Attribute.html#GetHashCode">System.Attribute.GetHashCode</a></font></b><br><br><br> Returns the hash code for this instance.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#GetType">GetType</a><br>(inherited from <b>System.Object)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Object.html#GetType">System.Object.GetType</a></font></b><br><br>Derived from System.Object, the primary base class for all objects.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#IsDefaultAttribute">IsDefaultAttribute</a><br>(inherited from <b>System.Attribute)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Attribute.html#IsDefaultAttribute">System.Attribute.IsDefaultAttribute</a></font></b><br><br><br> When overridden in a derived class, returns an indication whether the value of this instance is the default value for the derived class.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#Match(System.Object)">Match</a><br>(inherited from <b>System.Attribute)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Attribute.html#Match(System.Object)">System.Attribute.Match</a></font></b><br><br><br> When overridden in a derived class, returns a value indicating whether this instance equals a specified object.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#ToString">ToString</a><br>(inherited from <b>System.Object)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Object.html#ToString">System.Object.ToString</a></font></b><br><br>Derived from System.Object, the primary base class for all objects.</td>
</tr>
</table>
</dd>
</dl>
<dl>
<dt><b>Protected Methods</b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<td width="35%"><a href="#Finalize">Finalize</a><br>(inherited from <b>System.Object)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Object.html#Finalize">System.Object.Finalize</a></font></b><br><br>Derived from System.Object, the primary base class for all objects.</td>
</tr>
<tr valign="top">
<td width="35%"><a href="#MemberwiseClone">MemberwiseClone</a><br>(inherited from <b>System.Object)</b></td>
<td width="55%"><b><font color="#800080">See base class member description: <a href="../../System/types/Object.html#MemberwiseClone">System.Object.MemberwiseClone</a></font></b><br><br>Derived from System.Object, the primary base class for all objects.</td>
</tr>
</table>
</dd>
</dl>
<p><b>Hierarchy:</b><ul class="none">
<li><a href="../../System/types/Object.html">System.Object</a></li>
<ul class="none">
<li><a href="../../System/types/Attribute.html">System.Attribute</a></li>
<ul class="none">
<li><b>System.Xml.Serialization.XmlAnyElementAttribute</b></li>
</ul>
</ul>
</ul>
</p>
<hr>
<h3>System.Xml.Serialization.XmlAnyElementAttribute Member Details</h3><b>Overloaded <i><a name=".ctorTopic1"></a><a name="ctor1">ctor #1</a></i></b><b><i></i></b><dl>
<dt><b>Summary</b></dt>
<dd> Initializes a new instance of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> class.</dd>
</dl><br><dl>
<dd>Default constructor. This constructor is called by derived class constructors to initialize state in this type.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public XmlAnyElementAttribute();</b></code></td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> Use the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> constructor when you are overriding the serialization of a field. For more details about overriding serialization, see the  <a href="../../System.Xml.Serialization/types/XmlAttributeOverrides.html">XmlAttributeOverrides</a> class.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Overloaded <i><a name=".ctorTopic2"></a><a name="ctor2">ctor #2</a></i></b><b><i></i></b><dl>
<dt><b>Summary</b></dt>
<dd> Initializes a new instance of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> class; specifies the XML element name generated in the XML document.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public XmlAnyElementAttribute(<br>   <font color="#008080"><a href="../../System/types/String.html">string</a> <i>name</i></font><br>);</b></code></td>
</tr>
</table>
</dd>
</dl><b>Parameters:</b><br><dl>
<dd>
<p><i>name</i><br><dl>
<dd>
<param> The name of the XML element that the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html">XmlSerializer</a> generates.
</dd>
</dl>
</p>
</dd>
</dl><b>Remarks</b><dl>
<dd> Use the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> constructor when you are overriding the serialization of a field. For more details about overriding serialization, see the  <a href="../../System.Xml.Serialization/types/XmlAttributeOverrides.html">XmlAttributeOverrides</a> class.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Overloaded <i><a name=".ctorTopic3"></a><a name="ctor3">ctor #3</a></i></b><b><i></i></b><dl>
<dt><b>Summary</b></dt>
<dd> Initializes a new instance of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> class; specifies the XML element name generated in the XML document and its XML namespace.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public XmlAnyElementAttribute(<br>   <font color="#008080"><a href="../../System/types/String.html">string</a> <i>name</i>,</font><br>   <font color="#008080"><a href="../../System/types/String.html">string</a> <i>ns</i></font><br>);</b></code></td>
</tr>
</table>
</dd>
</dl><b>Parameters:</b><br><dl>
<dd>
<p><i>name</i><br><dl>
<dd>
<param> The name of the XML element that the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html">XmlSerializer</a> generates.
</dd>
</dl>
</p>
</dd>
<dd>
<p><i>ns</i><br><dl>
<dd>
<param> The XML namespace of the XML element.
</dd>
</dl>
</p>
</dd>
</dl><b>Remarks</b><dl>
<dd> Use the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> constructor when you are overriding the serialization of a field. For more details about overriding serialization, see the  <a href="../../System.Xml.Serialization/types/XmlAttributeOverrides.html">XmlAttributeOverrides</a> class.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Property: <i><a name="NameTopic1"></a><a name="Name">Name</a></i></b><b><i></i></b><b><font color="#008080"> (read-write)</font></b><br><dl>
<dt><b>Summary</b></dt>
<dd> Gets or sets the XML element name.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public <a href="../../System/types/String.html">string</a> Name {get; set;}
          </b></code></td>
</tr>
</table>
</dd>
</dl>
<dl>
<dt><b>Exceptions </b></dt>
<dd>
<table border="1" width="90%" style="border-collapse: collapse">
<tr valign="top">
<th width="30%">Exception Type</th>
<th width="60%">Condition</th>
</tr>
<tr valign="top">
<td> <a href="../../System/types/InvalidOperationException.html">InvalidOperationException</a></td>
<td> The element name of an array member does not match the element name specified by the  <a href="#Name">XmlAnyElementAttribute.Name</a> property.</td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> If you specify a  <a href="#Name">XmlAnyElementAttribute.Name</a> property value when applying the attribute, all  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects inserted into the array must have the same element name and default namespace, or an exception will be thrown. If you set the  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property value, you must set the  <a href="#Name">XmlAnyElementAttribute.Name</a> property as well, and the  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects must also have the same name and namespace values. If no  <a href="#Name">XmlAnyElementAttribute.Name</a> value is specified, the  <a href="../../System.Xml/types/XmlElement.html">XmlElement</a> or  <a href="../../System.Xml/types/XmlNode.html">XmlNode</a> objects can have any element name.<p> When you call the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html#Deserialize(System.IO.Stream)">XmlSerializer.Deserialize</a> method of the  <a href="../../System.Xml.Serialization/types/XmlSerializer.html">XmlSerializer</a> class, all attributes that do not have a corresponding member in the object being deserialized will be collected in the array. If you specify a  <a href="#Name">XmlAnyElementAttribute.Name</a> value, the array will contain only XML elements with that name. If you do not specify a  <a href="#Name">XmlAnyElementAttribute.Name</a> value, the array will contain all elements that have no corresponding member in the class. If a class contains more than one field that to which the attribute is applied, you should use the  <a href="#Name">XmlAnyElementAttribute.Name</a> and  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> properties to differentiate between the contents of the arrays. If such a class (with multiple fields) also contains one field that has no differentiating property values set (that is,  <a href="#Name">XmlAnyElementAttribute.Name</a> and  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a>) during deserialization, the array will contain any XML elements that are not already contained in the other arrays. If you add more than one field that doesn't have a differentiating  <a href="#Name">XmlAnyElementAttribute.Name</a> or  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> value set, the last field in the class will contain all unknown elements that are not already contained in the other arrays, and any other fields will be set to <b>null</b>.</p>
<p> You can apply multiple instances of the  <a href="../../System.Xml.Serialization/types/XmlAnyElementAttribute.html">XmlAnyElementAttribute</a> to a class member, but each instance must have a distinct  <a href="#Name">XmlAnyElementAttribute.Name</a> property value. Or, if the same  <a href="#Name">XmlAnyElementAttribute.Name</a> property is set for each instance, a distinct  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property value must be set for each instance.</p>
</dd>
</dl><b>Example</b><dl>
<dd>
<pre>
using System;
using System.Text;
using System.IO;
using System.Xml.Serialization;
using System.Xml;
using System.Xml.Schema;


[XmlRoot(Namespace = "http://www.cohowinery.com")]
public class Group{
   public string GroupName;

   // This is for serializing Employee elements.
   [XmlAnyElement(Name = "Employee")]
   public XmlElement[] UnknownEmployees;

   // This is for serializing City elements.   
   [XmlAnyElement
   (Name = "City", 
   Namespace = "http://www.cpandl.com")]
   public XmlElement[] UnknownCity;

    // This one is for all other unknown elements.
   [XmlAnyElement]
   public XmlElement[] UnknownElements;
}

public class Test{
   static void Main(){
      Test t = new Test();
      t.SerializeObject("AnyElementArray.xml");
      t.DeserializeObject("AnyElementArray.xml");
      Console.WriteLine("Done");
   }

   private void SerializeObject(string filename){
      XmlSerializer ser = new XmlSerializer(typeof(Group));
      // Create an XmlNamespaces to use.
      XmlSerializerNamespaces namespaces =
      new XmlSerializerNamespaces();
      namespaces.Add("c", "http://www.cohowinery.com");
      namespaces.Add("i", "http://www.cpandl.com");
      Group myGroup = new Group();
      // Create arrays of arbitrary XmlElement objects.
      // First create an XmlDocument, used to create the 
      // XmlElement objects.
      XmlDocument xDoc = new XmlDocument();

      // Create an array of Employee XmlElement objects.
      XmlElement El1 = xDoc.CreateElement("Employee", "http://www.cohowinery.com");
      El1.InnerText = "John";
      XmlElement El2 = xDoc.CreateElement("Employee", "http://www.cohowinery.com");
      El2.InnerText = "Joan";
      XmlElement El3 = xDoc.CreateElement("Employee", "http://www.cohowinery.com");
      El3.InnerText = "Jim";
      myGroup.UnknownEmployees= new XmlElement[]{El1, El2, El3};     
    
      // Create an array of City XmlElement objects.
      XmlElement inf1 = xDoc.CreateElement("City", "http://www.cpandl.com");
      inf1.InnerText = "Tokyo";
      XmlElement inf2 = xDoc.CreateElement("City", "http://www.cpandl.com");     
      inf2.InnerText = "New York";
      XmlElement inf3 = xDoc.CreateElement("City", "http://www.cpandl.com");     
      inf3.InnerText = "Rome";

      myGroup.UnknownCity = new XmlElement[]{inf1, inf2, inf3};

      XmlElement xEl1 = xDoc.CreateElement("bld");
      xEl1.InnerText = "42";
      XmlElement xEl2 = xDoc.CreateElement("Region");
      xEl2.InnerText = "West";
      XmlElement xEl3 = xDoc.CreateElement("type");
      xEl3.InnerText = "Technical";
      myGroup.UnknownElements = 
      	new XmlElement[]{xEl1,xEl2,xEl3};
      // Serialize the class, and close the TextWriter.
      TextWriter writer = new StreamWriter(filename);
      ser.Serialize(writer, myGroup, namespaces);
      writer.Close();

   }

   private void DeserializeObject(string filename){
      XmlSerializer ser = new XmlSerializer(typeof(Group));
      FileStream fs = new FileStream(filename, FileMode.Open);
      Group myGroup;
      myGroup = (Group)ser.Deserialize(fs);
      fs.Close();
      foreach(XmlElement xEmp in myGroup.UnknownEmployees){
         Console.WriteLine(xEmp.LocalName + ": " + xEmp.InnerText);}
      foreach(XmlElement xCity in myGroup.UnknownCity){
         Console.WriteLine(xCity.LocalName + ": " + xCity.InnerText);}
      foreach(XmlElement xEl in myGroup.UnknownElements){
         Console.WriteLine(xEl.LocalName + ": " + xEl.InnerText);}
   }
 }


    </pre>
</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Property: <i><a name="NamespaceTopic1"></a><a name="Namespace">Namespace</a></i></b><b><i></i></b><b><font color="#008080"> (read-write)</font></b><br><dl>
<dt><b>Summary</b></dt>
<dd> Gets or sets the XML namespace generated in the XML document.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public <a href="../../System/types/String.html">string</a> Namespace {get; set;}
          </b></code></td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> The  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property allows you to set a unique name for the XML attribute. The  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property conforms to the rules for creating an XML namespace as found in the World Wide Web Consortium (www.w3.org) document, "Namespaces in XML." <p> To set the  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property to a prefixed name, create an  <a href="../../System.Xml.Serialization/types/XmlSerializerNamespaces.html">XmlSerializerNamespaces</a> that contains the namespaces and prefixes used in the XML document. Set the  <a href="#Namespace">XmlAnyElementAttribute.Namespace</a> property to one of the namespaces in the  <a href="../../System.Xml.Serialization/types/XmlSerializerNamespaces.html">XmlSerializerNamespaces</a>. When the XML is generated, the attribute name will be correctly prefixed with the prefix associated with the specified namespace.</p>
</dd>
</dl><b>Example</b><dl>
<dd>
<pre>
using System;
using System.Text;
using System.IO;
using System.Xml.Serialization;
using System.Xml;
using System.Xml.Schema;


[XmlRoot(Namespace = "http://www.cohowinery.com")]
public class Group{
   public string GroupName;

   // This is for serializing Employee elements.
   [XmlAnyElement(Name = "Employee")]
   public XmlElement[] UnknownEmployees;

   // This is for serializing City elements.   
   [XmlAnyElement
   (Name = "City", 
   Namespace = "http://www.cpandl.com")]
   public XmlElement[] UnknownCity;

    // This one is for all other unknown elements.
   [XmlAnyElement]
   public XmlElement[] UnknownElements;
}

public class Test{
   static void Main(){
      Test t = new Test();
      t.SerializeObject("AnyElementArray.xml");
      t.DeserializeObject("AnyElementArray.xml");
      Console.WriteLine("Done");
   }

   private void SerializeObject(string filename){
      XmlSerializer ser = new XmlSerializer(typeof(Group));
      // Create an XmlNamespaces to use.
      XmlSerializerNamespaces namespaces =
      new XmlSerializerNamespaces();
      namespaces.Add("c", "http://www.cohowinery.com");
      namespaces.Add("i", "http://www.cpandl.com");
      Group myGroup = new Group();
      // Create arrays of arbitrary XmlElement objects.
      // First create an XmlDocument, used to create the 
      // XmlElement objects.
      XmlDocument xDoc = new XmlDocument();

      // Create an array of Employee XmlElement objects.
      XmlElement El1 = xDoc.CreateElement("Employee", "http://www.cohowinery.com");
      El1.InnerText = "John";
      XmlElement El2 = xDoc.CreateElement("Employee", "http://www.cohowinery.com");
      El2.InnerText = "Joan";
      XmlElement El3 = xDoc.CreateElement("Employee", "http://www.cohowinery.com");
      El3.InnerText = "Jim";
      myGroup.UnknownEmployees= new XmlElement[]{El1, El2, El3};     
    
      // Create an array of City XmlElement objects.
      XmlElement inf1 = xDoc.CreateElement("City", "http://www.cpandl.com");
      inf1.InnerText = "Tokyo";
      XmlElement inf2 = xDoc.CreateElement("City", "http://www.cpandl.com");     
      inf2.InnerText = "New York";
      XmlElement inf3 = xDoc.CreateElement("City", "http://www.cpandl.com");     
      inf3.InnerText = "Rome";

      myGroup.UnknownCity = new XmlElement[]{inf1, inf2, inf3};

      XmlElement xEl1 = xDoc.CreateElement("bld");
      xEl1.InnerText = "42";
      XmlElement xEl2 = xDoc.CreateElement("Region");
      xEl2.InnerText = "West";
      XmlElement xEl3 = xDoc.CreateElement("type");
      xEl3.InnerText = "Technical";
      myGroup.UnknownElements = 
      	new XmlElement[]{xEl1,xEl2,xEl3};
      // Serialize the class, and close the TextWriter.
      TextWriter writer = new StreamWriter(filename);
      ser.Serialize(writer, myGroup, namespaces);
      writer.Close();

   }

   private void DeserializeObject(string filename){
      XmlSerializer ser = new XmlSerializer(typeof(Group));
      FileStream fs = new FileStream(filename, FileMode.Open);
      Group myGroup;
      myGroup = (Group)ser.Deserialize(fs);
      fs.Close();
      foreach(XmlElement xEmp in myGroup.UnknownEmployees){
         Console.WriteLine(xEmp.LocalName + ": " + xEmp.InnerText);}
      foreach(XmlElement xCity in myGroup.UnknownCity){
         Console.WriteLine(xCity.LocalName + ": " + xCity.InnerText);}
      foreach(XmlElement xEl in myGroup.UnknownElements){
         Console.WriteLine(xEl.LocalName + ": " + xEl.InnerText);}
   }
 }


    </pre>
</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Property: <i><a name="TypeIdTopic1"></a><a name="TypeId">TypeId</a></i></b><b><i></i></b><b><font color="#008080"> (read-only)</font></b><br><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Attribute.html#TypeId">System.Attribute.TypeId</a></font></b></dd>
</dl><br><dl>
<dt><b>Summary</b></dt>
<dd> When implemented in a derived class, gets a unique identifier for this <b>Attribute</b>.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public virtual <a href="../../System/types/Object.html">object</a> TypeId {get;}
          </b></code></td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> As implemented, this identifier is merely the  <a href="../../System/types/Type.html">Type</a> of the attribute. However, it is intended that the unique identifier be used to identify two attributes of the same type.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="EqualsTopic1"></a><a name="Equals(System.Object)">Equals</a></i></b><b><i>(<br>   <font color="#008080"><a href="../../System/types/Object.html">object</a> <i>obj</i></font><br>)</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Object.html#Equals(System.Object)">System.Object.Equals</a></font></b></dd>
</dl>
<dl>
<dd>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public virtual <a href="../../System/types/Boolean.html">bool</a> Equals(<br>   <font color="#008080"><a href="../../System/types/Object.html">object</a> <i>obj</i></font><br>);</b></code></td>
</tr>
</table>
</dd>
</dl><br>For more information on members inherited from System.Object click on the link above.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="FinalizeTopic1"></a><a name="Finalize">Finalize</a></i></b><b><i>()</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Object.html#Finalize">System.Object.Finalize</a></font></b></dd>
</dl>
<dl>
<dd>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            ~XmlAnyElementAttribute();</b></code></td>
</tr>
</table>
</dd>
</dl><br>For more information on members inherited from System.Object click on the link above.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="GetHashCodeTopic1"></a><a name="GetHashCode">GetHashCode</a></i></b><b><i>()</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Attribute.html#GetHashCode">System.Attribute.GetHashCode</a></font></b></dd>
</dl><br><dl>
<dt><b>Summary</b></dt>
<dd> Returns the hash code for this instance.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public override <a href="../../System/types/Int32.html">int</a> GetHashCode();</b></code></td>
</tr>
</table>
</dd>
</dl>
<dl>
<dt><b>Return Value: </b></dt>
<dd> A 32-bit signed integer hash code.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="GetTypeTopic1"></a><a name="GetType">GetType</a></i></b><b><i>()</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Object.html#GetType">System.Object.GetType</a></font></b></dd>
</dl>
<dl>
<dd>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public <a href="../../System/types/Type.html">Type</a> GetType();</b></code></td>
</tr>
</table>
</dd>
</dl><br>For more information on members inherited from System.Object click on the link above.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="IsDefaultAttributeTopic1"></a><a name="IsDefaultAttribute">IsDefaultAttribute</a></i></b><b><i>()</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Attribute.html#IsDefaultAttribute">System.Attribute.IsDefaultAttribute</a></font></b></dd>
</dl><br><dl>
<dt><b>Summary</b></dt>
<dd> When overridden in a derived class, returns an indication whether the value of this instance is the default value for the derived class.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public virtual <a href="../../System/types/Boolean.html">bool</a> IsDefaultAttribute();</b></code></td>
</tr>
</table>
</dd>
</dl>
<dl>
<dt><b>Return Value: </b></dt>
<dd><b>true</b> if this instance is the default attribute for the class; otherwise, <b>false</b>.</dd>
</dl><b>Remarks</b><dl>
<dd> The default implementation of this class returns <b>false</b>, and must be implemented in the derived class to be useful to that class.<p> The implementation of this method in a derived class compares the value of this instance to a standard, default value obtained by some means, then returns a Boolean value that indicates whether the value of this instance is equal to the standard. The standard value is typically coded as a constant in the implementation, or stored programmatically in a field used by the implementation.</p>
</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="MatchTopic1"></a><a name="Match(System.Object)">Match</a></i></b><b><i>(<br>   <font color="#008080"><a href="../../System/types/Object.html">object</a> <i>obj</i></font><br>)</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Attribute.html#Match(System.Object)">System.Attribute.Match</a></font></b></dd>
</dl><br><dl>
<dt><b>Summary</b></dt>
<dd> When overridden in a derived class, returns a value indicating whether this instance equals a specified object.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public virtual <a href="../../System/types/Boolean.html">bool</a> Match(<br>   <font color="#008080"><a href="../../System/types/Object.html">object</a> <i>obj</i></font><br>);</b></code></td>
</tr>
</table>
</dd>
</dl><b>Parameters:</b><br><dl>
<dd>
<p><i>obj</i><br><dl>
<dd>
<param> An  <a href="../../System/types/Object.html">Object</a> to compare with this instance of <b>Attribute</b>.
</dd>
</dl>
</p>
</dd>
</dl>
<dl>
<dt><b>Return Value: </b></dt>
<dd><b>true</b> if this instance equals <i>obj</i>; otherwise, <b>false</b>.</dd>
</dl><b>Remarks</b><dl>
<dd> This method determines if one <b>Attribute</b> equals another. Its default implementation is the same as  <a href="#Equals(System.Object)">Attribute.Equals</a>, which performs a value and reference comparison. Override this method to implement support for attribute values, such as flags or bitfields, that consist of components that are meaningful in themselves. For example, consider an attribute whose value is a binary field divided into a bitfield of flags. Two instances of this attribute have one flag in set in common while all the other flags differ. The <b>Equal</b> method cannot determine that the two instances have the same flag set, but the <b>Match</b> method can.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="MemberwiseCloneTopic1"></a><a name="MemberwiseClone">MemberwiseClone</a></i></b><b><i>()</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Object.html#MemberwiseClone">System.Object.MemberwiseClone</a></font></b></dd>
</dl>
<dl>
<dd>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            protected <a href="../../System/types/Object.html">object</a> MemberwiseClone();</b></code></td>
</tr>
</table>
</dd>
</dl><br>For more information on members inherited from System.Object click on the link above.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite"><b>Method: <i><a name="ToStringTopic1"></a><a name="ToString">ToString</a></i></b><b><i>()</i></b><dl>
<dd><b><font color="#800080"> Inherited<br>See base class member description: <a href="../../System/types/Object.html#ToString">System.Object.ToString</a></font></b></dd>
</dl>
<dl>
<dd>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
            public virtual string ToString();</b></code></td>
</tr>
</table>
</dd>
</dl><br>For more information on members inherited from System.Object click on the link above.</dd>
</dl>
<h4 align="center"><a href="#TopOfPage" class="top">
						Return to top
					</a></h4>
<hr class="lite">
<h3 align="center"><a href="#TopOfPage">
					Top of page
				</a></h3><i><a href="../../documentation_license.txt">
				  Copyright (c) 2002 Microsoft Corporation.  All rights reserved.
				</a></i></body>
</html>

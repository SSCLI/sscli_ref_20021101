<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../refdoc.css">
<title>Type: System.Runtime.Remoting.Messaging.ILogicalThreadAffinative</title>
</head>
<body><a name="TopOfPage"></a><h2>System.Runtime.Remoting.Messaging.ILogicalThreadAffinative Interface</h2><b>Assembly: </b>Mscorlib.dll<br><b>Namespace: </b>System.Runtime.Remoting.Messaging<br><dl>
<dt><b>Summary</b></dt>
<dd> Marks an object that can propagate outside of an  <a href="../../System/types/AppDomain.html">AppDomain</a> in a  <a href="../../System.Runtime.Remoting.Messaging/types/LogicalCallContext.html">LogicalCallContext</a>.</dd>
</dl>
<dl>
<dt><b>C# Syntax:</b></dt>
<dd>
<table border="1" class="syntax" width="90%" style="border-collapse: collapse">
<tr>
<td><code><b>
        public interface ILogicalThreadAffinative
      </b></code></td>
</tr>
</table>
</dd>
</dl><b>Remarks</b><dl>
<dd> When a remote method call is made to an object in another  <a href="../../System/types/AppDomain.html">AppDomain</a>, the current  <a href="../../System.Runtime.Remoting.Messaging/types/CallContext.html">CallContext</a> class generates a  <a href="../../System.Runtime.Remoting.Messaging/types/LogicalCallContext.html">LogicalCallContext</a> that travels along with the call to the remote location. Only objects that expose the  <a href="../../System.Runtime.Remoting.Messaging/types/ILogicalThreadAffinative.html">ILogicalThreadAffinative</a> interface and are stored in the  <a href="../../System.Runtime.Remoting.Messaging/types/CallContext.html">CallContext</a> are propagated outside the  <a href="../../System/types/AppDomain.html">AppDomain</a>. Objects that do not support this interface are not transmitted in  <a href="../../System.Runtime.Remoting.Messaging/types/LogicalCallContext.html">LogicalCallContext</a> instances with remote method calls.</dd>
</dl><b>Example</b><dl>
<dd> The following code example demonstrates the use of the  <a href="../../System.Runtime.Remoting.Messaging/types/ILogicalThreadAffinative.html">ILogicalThreadAffinative</a> interface to transmit  the conceptual topic at <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpguide/html/cpconprincipalidentityobjects.asp">MSDN: principalidentityobjects</a> to a remote location for identification. To view the code for the <b>HelloServiceClass</b> class used in the sample, see the example for the  <a href="../../System.Runtime.Remoting.Messaging/types/CallContext.html#GetData(System.String)">CallContext.GetData</a> method. To view the code for the server class used in this sample, see example for the  <a href="../../System.Runtime.Remoting/types/RemotingConfiguration.html#RegisterActivatedServiceType(System.Type)">RemotingConfiguration.RegisterActivatedServiceType</a> class. To view the code for the client class used in the sample, see the examplefor the  <a href="../../System.Runtime.Remoting.Messaging/types/CallContext.html">CallContext</a> class.<pre>
[Serializable]
public class LogicalCallContextData : ILogicalThreadAffinative
{
   int _nAccesses;
   IPrincipal _principal;

   public string numOfAccesses {
      get {
         return String.Format("The identity of {0} has been accessed {1} times.", 
                              _principal.Identity.Name, 
                              _nAccesses);
      }
   }

   public IPrincipal Principal {
      get { 
         _nAccesses ++;
         return _principal;
      }
   }
   
   public LogicalCallContextData(IPrincipal p) {
      _nAccesses = 0;
      _principal = p;
   }
}

    </pre>
</dd>
</dl><b>See also: </b><dl>
<dd> <a href="../../System.Runtime.Remoting.Messaging/System.Runtime.Remoting.Messaging.html">System.Runtime.Remoting.Messaging Namespace</a></dd>
</dl>
<h3>System.Runtime.Remoting.Messaging.ILogicalThreadAffinative Member List: </h3>
<hr>
<h3>System.Runtime.Remoting.Messaging.ILogicalThreadAffinative Member Details</h3>
<h3 align="center"><a href="#TopOfPage">
					Top of page
				</a></h3><i><a href="../../documentation_license.txt">
				  Copyright (c) 2002 Microsoft Corporation.  All rights reserved.
				</a></i></body>
</html>
